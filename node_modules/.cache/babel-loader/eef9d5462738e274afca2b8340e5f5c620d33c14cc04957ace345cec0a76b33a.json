{"ast":null,"code":"import React from'react';import{IconSettings}from'../icons/Icons';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BlockLogoScreen=_ref=>{let{quizData,columnNames,gridRows,gridCols,onLogoChange,onApplyToAll,onResetLogos,onBackToAdmin,onGoHome}=_ref;const[selectedBlock,setSelectedBlock]=React.useState(null);const[lastUploadedLogo,setLastUploadedLogo]=React.useState(null);const fileInputRef=React.useRef(null);const handleBlockClick=blockId=>{var _fileInputRef$current;setSelectedBlock(blockId);fileInputRef.current.value='';// Clear the input so same file can be re-uploaded\n(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();};const handleFileUpload=e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(!file||!selectedBlock)return;const reader=new FileReader();reader.onload=ev=>{const logoUrl=ev.target.result;onLogoChange(selectedBlock,logoUrl);setLastUploadedLogo(logoUrl);// Don't clear selectedBlock - keep it selected\n};reader.readAsDataURL(file);};const handleApplyToAll=()=>{if(lastUploadedLogo){onApplyToAll(lastUploadedLogo);}};return/*#__PURE__*/_jsxs(\"div\",{id:\"block-logo-screen\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"screen-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Block Logo Customization\"}),/*#__PURE__*/_jsx(\"span\",{className:\"badge\",children:\"Design Mode\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"logo-grid-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"side-labels\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"side-label-spacer\"}),Array.from({length:gridRows}).map((_,row)=>/*#__PURE__*/_jsxs(\"div\",{className:\"level-label left\",children:[\"Level \",row+1]},row))]}),/*#__PURE__*/_jsx(\"div\",{id:\"quiz-grid\",style:{'--grid-cols':gridCols},children:Array.from({length:gridCols}).map((_,col)=>/*#__PURE__*/_jsxs(\"div\",{className:\"grid-column\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-header-static\",children:columnNames[col]||\"Column \".concat(col+1)}),Array.from({length:gridRows}).map((_,row)=>{const block=quizData.find(b=>b.col===col&&b.row===row);if(!block)return null;const style=block.logoUrl?{backgroundImage:\"url(\".concat(block.logoUrl,\")\")}:{};return/*#__PURE__*/_jsx(\"button\",{id:\"logo-\".concat(block.id),className:\"logo-block-tile \".concat(selectedBlock===block.id?'selected':''),onClick:()=>handleBlockClick(block.id),style:style,children:!block.logoUrl&&/*#__PURE__*/_jsx(\"div\",{className:\"logo-upload-prompt\",children:\"Click to upload\"})},block.id);})]},col))}),/*#__PURE__*/_jsxs(\"div\",{className:\"side-labels\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"side-label-spacer\"}),Array.from({length:gridRows}).map((_,row)=>/*#__PURE__*/_jsxs(\"div\",{className:\"level-label\",children:[\"Level \",row+1]},row))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"logo-actions\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logo-actions-left\",children:[/*#__PURE__*/_jsxs(\"button\",{id:\"btn-apply-to-all\",className:\"ctrl-btn\",onClick:handleApplyToAll,disabled:!lastUploadedLogo,children:[/*#__PURE__*/_jsx(IconImage,{}),\" Apply to All\"]}),/*#__PURE__*/_jsxs(\"button\",{id:\"btn-reset-logos\",className:\"ctrl-btn\",onClick:onResetLogos,children:[/*#__PURE__*/_jsx(IconReset,{}),\" Reset Logos\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"logo-actions-right\",children:[/*#__PURE__*/_jsxs(\"button\",{id:\"btn-back-to-admin\",className:\"ctrl-btn\",onClick:onBackToAdmin,children:[/*#__PURE__*/_jsx(IconSettings,{}),\" Admin\"]}),/*#__PURE__*/_jsxs(\"button\",{id:\"btn-home\",className:\"ctrl-btn\",onClick:onGoHome,children:[/*#__PURE__*/_jsx(IconHome,{}),\" Home\"]})]})]}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\"image/*\",className:\"file-input-hidden\",onChange:handleFileUpload})]});};","map":{"version":3,"names":["React","IconSettings","jsx","_jsx","jsxs","_jsxs","BlockLogoScreen","_ref","quizData","columnNames","gridRows","gridCols","onLogoChange","onApplyToAll","onResetLogos","onBackToAdmin","onGoHome","selectedBlock","setSelectedBlock","useState","lastUploadedLogo","setLastUploadedLogo","fileInputRef","useRef","handleBlockClick","blockId","_fileInputRef$current","current","value","click","handleFileUpload","e","_e$target$files","file","target","files","reader","FileReader","onload","ev","logoUrl","result","readAsDataURL","handleApplyToAll","id","children","className","Array","from","length","map","_","row","style","col","concat","block","find","b","backgroundImage","onClick","disabled","IconImage","IconReset","IconHome","ref","type","accept","onChange"],"sources":["D:/Projects with Git/cic-quiz-master-jeopardy/src/components/BlockLogoScreen.js"],"sourcesContent":["import React from 'react';\r\nimport { IconSettings } from '../icons/Icons';\r\n\r\nconst BlockLogoScreen = ({ quizData, columnNames, gridRows, gridCols, onLogoChange, onApplyToAll, onResetLogos, onBackToAdmin, onGoHome }) => {\r\n  const [selectedBlock, setSelectedBlock] = React.useState(null);\r\n  const [lastUploadedLogo, setLastUploadedLogo] = React.useState(null);\r\n  const fileInputRef = React.useRef(null);\r\n\r\n  const handleBlockClick = (blockId) => {\r\n    setSelectedBlock(blockId);\r\n    fileInputRef.current.value = ''; // Clear the input so same file can be re-uploaded\r\n    fileInputRef.current?.click();\r\n  };\r\n\r\n  const handleFileUpload = (e) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file || !selectedBlock) return;\r\n    \r\n    const reader = new FileReader();\r\n    reader.onload = (ev) => {\r\n      const logoUrl = ev.target.result;\r\n      onLogoChange(selectedBlock, logoUrl);\r\n      setLastUploadedLogo(logoUrl);\r\n      // Don't clear selectedBlock - keep it selected\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  const handleApplyToAll = () => {\r\n    if (lastUploadedLogo) {\r\n      onApplyToAll(lastUploadedLogo);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div id=\"block-logo-screen\">\r\n      <div className=\"screen-header\">\r\n        <h1>Block Logo Customization</h1>\r\n        <span className=\"badge\">Design Mode</span>\r\n      </div>\r\n\r\n      <div className=\"logo-grid-wrapper\">\r\n        {/* Left labels */}\r\n        <div className=\"side-labels\">\r\n          <div className=\"side-label-spacer\"></div>\r\n          {Array.from({ length: gridRows }).map((_, row) => (\r\n            <div key={row} className=\"level-label left\">Level {row + 1}</div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Grid */}\r\n        <div id=\"quiz-grid\" style={{ '--grid-cols': gridCols }}>\r\n          {Array.from({ length: gridCols }).map((_, col) => (\r\n            <div key={col} className=\"grid-column\">\r\n              <div className=\"col-header-static\">{columnNames[col] || `Column ${col + 1}`}</div>\r\n              {Array.from({ length: gridRows }).map((_, row) => {\r\n                const block = quizData.find(b => b.col === col && b.row === row);\r\n                if (!block) return null;\r\n                const style = block.logoUrl ? { backgroundImage: `url(${block.logoUrl})` } : {};\r\n                return (\r\n                  <button\r\n                    key={block.id}\r\n                    id={`logo-${block.id}`}\r\n                    className={`logo-block-tile ${selectedBlock === block.id ? 'selected' : ''}`}\r\n                    onClick={() => handleBlockClick(block.id)}\r\n                    style={style}\r\n                  >\r\n                    {!block.logoUrl && <div className=\"logo-upload-prompt\">Click to upload</div>}\r\n                  </button>\r\n                );\r\n              })}\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Right labels */}\r\n        <div className=\"side-labels\">\r\n          <div className=\"side-label-spacer\"></div>\r\n          {Array.from({ length: gridRows }).map((_, row) => (\r\n            <div key={row} className=\"level-label\">Level {row + 1}</div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Actions */}\r\n      <div className=\"logo-actions\">\r\n        <div className=\"logo-actions-left\">\r\n          <button\r\n            id=\"btn-apply-to-all\"\r\n            className=\"ctrl-btn\"\r\n            onClick={handleApplyToAll}\r\n            disabled={!lastUploadedLogo}\r\n          >\r\n            <IconImage /> Apply to All\r\n          </button>\r\n          <button id=\"btn-reset-logos\" className=\"ctrl-btn\" onClick={onResetLogos}>\r\n            <IconReset /> Reset Logos\r\n          </button>\r\n        </div>\r\n        <div className=\"logo-actions-right\">\r\n          <button id=\"btn-back-to-admin\" className=\"ctrl-btn\" onClick={onBackToAdmin}>\r\n            <IconSettings /> Admin\r\n          </button>\r\n          <button id=\"btn-home\" className=\"ctrl-btn\" onClick={onGoHome}>\r\n            <IconHome /> Home\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <input\r\n        ref={fileInputRef}\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        className=\"file-input-hidden\"\r\n        onChange={handleFileUpload}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}